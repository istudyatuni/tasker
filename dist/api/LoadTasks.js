import{initOffline as a}from"../utils/offline.js";import{tasks as e}from"../stores/tasks.js";import{readFile as o}from"../utils/fs.js";export async function LoadTasksLocal(){e.set(await o())}export async function LoadTasks(){try{const s=await fetch("/api/tasks",{method:"GET"});if(s.ok){let t=await s.json();return t.length?e.set(t):e.set([]),!0}else throw"Go to catch"}catch{return console.error("Server unavailable"),a(),!1}}export async function LoadTaskById(s){const t=await fetch("/api/task?task_id="+s,{method:"GET"});return t.ok?await t.json():null}
