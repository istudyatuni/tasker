import"./ImportExport.svelte.css.proxy.js";import{SvelteComponent as v,append as o,attr as a,binding_callbacks as w,detach as x,element as u,init as _,insert as j,listen as b,noop as g,run_all as E,safe_not_equal as L,space as k}from"../../snowpack/pkg/svelte/internal.js";import{LoadTasks as y}from"../api/LoadTasks.js";import{DownloadTasks as D,UploadTasks as F}from"../api/ImportExport.js";function I(r){let e,i,n,t,c,d,l,p,s,f,h;return{c(){e=u("div"),i=u("button"),i.innerHTML=`<span class="icon"><img src="icons/download.svg" alt=""/></span> 
		<span>Download backup</span>`,n=k(),t=u("button"),c=u("span"),c.innerHTML='<img src="icons/download.svg" alt=""/>',d=k(),l=u("span"),l.textContent="Export from backup",p=k(),s=u("input"),a(i,"class","button"),a(c,"class","icon is-180-rotate svelte-1gzbb83"),a(s,"type","file"),a(s,"accept",".json"),a(s,"name","data"),a(s,"class","is-hidden"),a(t,"class","button"),a(e,"class","block")},m(m,T){j(m,e,T),o(e,i),o(e,n),o(e,t),o(t,c),o(t,d),o(t,l),o(t,p),o(t,s),r[3](s),f||(h=[b(i,"click",D),b(s,"change",r[2]),b(t,"click",r[1])],f=!0)},p:g,i:g,o:g,d(m){m&&x(e),r[3](null),f=!1,E(h)}}}function U(r,e,i){let n;function t(){n.click()}function c(){if(n.files.length===1){let l=n.files[0],p=new FileReader;p.readAsText(l,"UTF-8"),p.onloadend=async()=>{p.result&&await F(String(p.result))&&y()}}}function d(l){w[l?"unshift":"push"](()=>{n=l,i(0,n)})}return[n,t,c,d]}class C extends v{constructor(e){super();_(this,e,U,I,L,{})}}export default C;
