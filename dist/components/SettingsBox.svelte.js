import{SvelteComponent as G,add_flush_callback as I,append as m,attr as v,bind as T,binding_callbacks as D,check_outros as E,component_subscribe as L,create_component as j,destroy_component as S,detach as C,element as g,empty as J,group_outros as A,init as K,insert as q,listen as B,mount_component as x,run_all as P,safe_not_equal as Q,set_store_value as U,space as w,toggle_class as M,transition_in as b,transition_out as h}from"../../snowpack/pkg/svelte/internal.js";import{edit as V}from"../utils/editor.js";import{subjects as W}from"../stores/tasks.js";import{settings as $}from"../stores/settings.js";import X from"./ImportExport.svelte.js";import F from"./blocks/SettingCheckbox.svelte.js";import Y from"./blocks/DropdownTextInput.svelte.js";function N(o){let e,r,t,f,_,u,a,p,c=!o[1].show_trash&&O(o);function k(s){o[7](s)}let l={text:"Strict line breaks",name:"strict_line_breaks",help:"Ignore single line breaks in detailed description according to the markdown specs"};o[1].strict_line_breaks!==void 0&&(l.checked=o[1].strict_line_breaks),f=new F({props:l}),D.push(()=>T(f,"checked",k));let n=!o[1].show_trash&&R(o),i=o[1].offline==="none"&&z(o);return{c(){e=g("div"),r=g("div"),c&&c.c(),t=w(),j(f.$$.fragment),u=w(),n&&n.c(),a=w(),i&&i.c(),v(e,"class","is-flex is-justify-content-space-between")},m(s,d){q(s,e,d),m(e,r),c&&c.m(r,null),m(r,t),x(f,r,null),m(r,u),n&&n.m(r,null),m(e,a),i&&i.m(e,null),p=!0},p(s,d){s[1].show_trash?c&&(A(),h(c,1,1,()=>{c=null}),E()):c?(c.p(s,d),d&2&&b(c,1)):(c=O(s),c.c(),b(c,1),c.m(r,t));const H={};!_&&d&2&&(_=!0,H.checked=s[1].strict_line_breaks,I(()=>_=!1)),f.$set(H),s[1].show_trash?n&&(A(),h(n,1,1,()=>{n=null}),E()):n?(n.p(s,d),d&2&&b(n,1)):(n=R(s),n.c(),b(n,1),n.m(r,null)),s[1].offline==="none"?i?d&2&&b(i,1):(i=z(s),i.c(),b(i,1),i.m(e,null)):i&&(A(),h(i,1,1,()=>{i=null}),E())},i(s){p||(b(c),b(f.$$.fragment,s),b(n),b(i),p=!0)},o(s){h(c),h(f.$$.fragment,s),h(n),h(i),p=!1},d(s){s&&C(e),c&&c.d(),S(f),n&&n.d(),i&&i.d()}}}function O(o){let e,r,t,f,_,u;function a(l){o[5](l)}let p={text:"Reverse list",name:"reverse_list"};o[1].reverse_list!==void 0&&(p.checked=o[1].reverse_list),e=new F({props:p}),D.push(()=>T(e,"checked",a));function c(l){o[6](l)}let k={text:"Show finished",name:"show_finished"};return o[1].show_finished!==void 0&&(k.checked=o[1].show_finished),f=new F({props:k}),D.push(()=>T(f,"checked",c)),{c(){j(e.$$.fragment),t=w(),j(f.$$.fragment)},m(l,n){x(e,l,n),q(l,t,n),x(f,l,n),u=!0},p(l,n){const i={};!r&&n&2&&(r=!0,i.checked=l[1].reverse_list,I(()=>r=!1)),e.$set(i);const s={};!_&&n&2&&(_=!0,s.checked=l[1].show_finished,I(()=>_=!1)),f.$set(s)},i(l){u||(b(e.$$.fragment,l),b(f.$$.fragment,l),u=!0)},o(l){h(e.$$.fragment,l),h(f.$$.fragment,l),u=!1},d(l){S(e,l),l&&C(t),S(f,l)}}}function R(o){let e,r,t;function f(u){o[8](u)}let _={label:"Filter by subjects",placeholder:"Subject",dropdown:o[2],show_clear:!0};return o[1].filterSubject!==void 0&&(_.value=o[1].filterSubject),e=new Y({props:_}),D.push(()=>T(e,"value",f)),{c(){j(e.$$.fragment)},m(u,a){x(e,u,a),t=!0},p(u,a){const p={};a&4&&(p.dropdown=u[2]),!r&&a&2&&(r=!0,p.value=u[1].filterSubject,I(()=>r=!1)),e.$set(p)},i(u){t||(b(e.$$.fragment,u),t=!0)},o(u){h(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function z(o){let e,r;return e=new X({}),{c(){j(e.$$.fragment)},m(t,f){x(e,t,f),r=!0},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function Z(o){let e,r,t,f,_,u,a,p,c,k,l,n,i=o[0]&&N(o);return{c(){e=g("div"),r=g("div"),t=g("button"),t.innerHTML=`<span class="icon is-not-focused"><img src="icons/settings-gear.svg" alt=""/></span> 
			<span>Settings</span>`,f=w(),_=g("button"),_.textContent="Trash",u=w(),a=g("button"),a.textContent="Add a task",p=w(),i&&i.c(),c=J(),v(t,"class","button is-primary is-inverted block"),v(_,"class","ml-5 button is-danger block"),M(_,"is-inverted",!o[1].show_trash),v(a,"class","button is-primary block"),v(e,"class","is-flex is-justify-content-space-between")},m(s,d){q(s,e,d),m(e,r),m(r,t),m(r,f),m(r,_),m(e,u),m(e,a),q(s,p,d),i&&i.m(s,d),q(s,c,d),k=!0,l||(n=[B(t,"click",o[4]),B(_,"click",o[3]),B(a,"click",y)],l=!0)},p(s,[d]){d&2&&M(_,"is-inverted",!s[1].show_trash),s[0]?i?(i.p(s,d),d&1&&b(i,1)):(i=N(s),i.c(),b(i,1),i.m(c.parentNode,c)):i&&(A(),h(i,1,1,()=>{i=null}),E())},i(s){k||(b(i),k=!0)},o(s){h(i),k=!1},d(s){s&&C(e),s&&C(p),i&&i.d(s),s&&C(c),l=!1,P(n)}}}function y(){V("create")}function ee(o,e,r){let t,f;L(o,$,n=>r(1,t=n)),L(o,W,n=>r(2,f=n));let _=!1;function u(){U($,t.show_trash=!t.show_trash,t)}function a(){r(0,_=!_)}function p(n){o.$$.not_equal(t.reverse_list,n)&&(t.reverse_list=n,$.set(t))}function c(n){o.$$.not_equal(t.show_finished,n)&&(t.show_finished=n,$.set(t))}function k(n){o.$$.not_equal(t.strict_line_breaks,n)&&(t.strict_line_breaks=n,$.set(t))}function l(n){o.$$.not_equal(t.filterSubject,n)&&(t.filterSubject=n,$.set(t))}return[_,t,f,u,a,p,c,k,l]}class te extends G{constructor(e){super();K(this,e,ee,Z,Q,{})}}export default te;
